/* SocialRiser v1.6.0 */
function share(t){if(void 0!==window.countClick){var e="";e=null!==t.match("facebook")?"facebook":null!==t.match("twitter")?"twitter":"email";var r=window.location.href.split("graphics.wsj.com")[1];window.countClicks("SOCIALRISER_"+e+"_"+r)}return LeftPosition=screen.width?(screen.width-500)/2:100,TopPosition=screen.height?(screen.height-400)/2:100,settings="width=500,height=400,top="+TopPosition+",left="+LeftPosition+",scrollbars=yes,location=no,directories=no,status=no,menubar=no,toolbar=no,resizable=no",win=window.open(t+"&","template_window",settings),!1}var socialRiser={create:function(t){t=void 0===t||""==t?t=[]:t;var e=void 0===t.container||""==t.container?".social-links":t.container,r=void 0===t.url?window.location.href:t.url;r=r.replace("embed=1",""),r=encodeURIComponent(r);var i=""==r?window.location.href:r,a=void 0===t.text?encodeURIComponent(document.title.split(" - WSJ.com")[0]):encodeURIComponent(t.text),o=!1,s=!1,n=!1;if(void 0===t.networks||""==t.networks)o=!0,s=!0,n=!0;else{var c=t.networks.split(",");$.each(c,function(t,e){e=e.trim()}),jQuery.inArray("twitter",c)>-1&&(o=!0),jQuery.inArray("facebook",c)>-1&&(s=!0),jQuery.inArray("email",c)>-1&&(n=!0)}var l=!1;if(l="true"==t.knockout||1==t.knockout,n){var h="Here is something from WSJ.com that might interest you: %0D%0A%0D%0A"+a+"%0D%0A"+r;h=h.replace(/ /g,"%20")}var f="",u="mailto:?subject="+a.replace(/ /g,"%20")+"&body="+h;n&&(f+='<div class="social-link social-link-email"><a href="'+u+'" class="sr-email" target="_blank"></a></div>');var d="https://www.facebook.com/sharer/sharer.php?u="+i;s&&(f+='<div class="social-link social-link-facebook"><a data-url="'+i+'" data-text="'+a+'" data-network="facebook" href="'+d+'" onclick="share(this.href);return false" onfocus="this.blur()" class="sr-facebook"></a></div>');var k="https://twitter.com/share?url="+r+"&text="+a+"&via=WSJGraphics";o&&(f+='<div class="social-link social-link-twitter"><a data-url="'+k+'" data-text="'+a+'" data-network="twitter" href="'+k+'" onclick="share(this.href);return false" onfocus="this.blur()" class="sr-twitter"></a></div>'),$(e).addClass("social-riser").html(f),$(".top-share-facebook a").attr({onclick:"share(this.href);return false",onfocus:"this.blur()",href:d}),$(".top-share-twitter a").attr({onclick:"share(this.href);return false",onfocus:"this.blur()",href:k}),$(".top-share-email a").attr({href:u,target:"_blank"}),1==l&&$(e).addClass("knockout")},update:function(t){t=void 0===t||""==t?t=[]:t;var e=void 0===t.container||""==t.container?".social-links":t.container,r=void 0===t.url?$(e).find(".social-link a").first().data("url"):encodeURIComponent(t.url),i=""==r?window.location.href:r,a=void 0===t.text?$(e).find(".social-link a").first().data("text"):encodeURIComponent(t.text),o=!1,s=!1,n=!1;if(void 0===t.networks||""==t.networks)o=!0,s=!0,n=!0;else{var c=t.networks.split(",");$.each(c,function(t,e){e=e.trim()}),jQuery.inArray("twitter",c)>-1&&(o=!0),jQuery.inArray("facebook",c)>-1&&(s=!0),jQuery.inArray("email",c)>-1&&(n=!0)}o||$(e).find(".social-link-twitter").remove(),s||$(e).find(".social-link-facebook").remove(),n||$(e).find(".social-link-email").remove(),twitterHref="https://twitter.com/share?url="+r+"&text="+a+"&via=WSJGraphics",$(e).find(".social-link .sr-twitter").each(function(){$(this).data("url",r),$(this).data("text",a),$(this).attr("href",twitterHref),$(this).attr("onclick","share(this.href);return false")});var l="https://www.facebook.com/sharer/sharer.php?u="+i;$(e).find(".social-link .sr-facebook").each(function(){$(this).data("url",i),$(this).data("text",a),$(this).attr("href",l),$(this).attr("onclick","share(this.href);return false")});var h="Here is something from WSJ.com that might interest you: %0D%0A%0D%0A"+a+"%0D%0A"+r;h=h.replace(/ /g,"%20");var f="mailto:?subject="+a.replace(/ /g,"%20")+"&body="+h;$(e).find(".social-link .sr-email").each(function(){$(this).data("url",f),$(this).data("text",a),$(this).attr("href",f),$(this).attr("onclick","share(this.href);return false")}),$(".top-share-facebook a").attr({onclick:"share(this.href);return false",onfocus:"this.blur()",href:l}),$(".top-share-twitter a").attr({onclick:"share(this.href);return false",onfocus:"this.blur()",href:twitterHref}),$(".top-share-email a").attr({href:f,target:"_blank"})}},win=null;
